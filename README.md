# vk_tarantool

## 10
### Условие
Используя Tarantool, разработайте бэкенд сервиса по сокращению ссылок. Поднимите его на своём хостинге (можно использовать платные продукты, такие как AWS, VK Cloud Solutions, Yandex.Cloud, любые другие или развернуть решение локально), а в репозитории с исходным кодом опишите, какой IP/URL/порт использовать для подключения.

Бэкенд должен поддерживать один метод API: post-запрос set с одним обязательным параметром — исходным URL-адресом. В ответ на этот запрос бэкенд должен возвращать строку — сокращённый URL-адрес, ведущий на ваш сервер.

Переход по сокращённой ссылке должен перенаправлять клиента (301 Redirect) на оригинальный адрес.

### Решение
IP-адрес сервера: http://87.239.110.13

Примеры запросов:
- POST http://87.239.110.13/set -d '{"link": "http://vk.com"}'
- GET http://87.239.110.13/go/<link_id>

## 20
### Условие
Разработайте минималистичный веб-интерфейс для сокращения ссылки. Достаточно будет всего одного поля для ввода сокращаемого адреса, кнопки для сокращения и текстового поля с итоговой ссылкой.

Бонус: вместе с короткой ссылкой попробуйте автоматически сгенерировать QR-код на странице ниже в интерфейсе (для этого мы советуем использовать Go или Python).

### Решение
Интерфейс для ввода ссылки: http://87.239.110.13

Пример страницы (ссылка + QR-код): http://87.239.110.13/info/vy9RL8qL

## 30
### Условие
Разработайте скрипт для нагрузочного тестирования вашего сервиса. Он должен состоять из этапа генерации ссылок и этапа перехода по ссылкам. Часть генерации ссылок должна создавать нагрузку не более 1 000 RPS. Но уже в части перехода по ссылкам постепенно увеличивайте нагрузку, чтобы продемонстрировать предел возможностей вашего сервиса.

Мы ожидаем, что вы сможете выдержать 50 000 RPS. Вашим скриптом для нагрузочного тестирования мы также будем испытывать работы других участников :) Чем лучше вы покажете себя по сравнению с другими, тем больше баллов за задание получите! Можно лимитировать количество запросов с одного IP-адреса на создание новых коротких ссылок.
### Решение
Скрипт для нагрузочного тестирования лежит в директории test

## 40
### Условие
Добавьте интерфейс с аналитической информацией о сокращённых ссылках. Вам нужно поддержать метрику количества переходов по ссылке и ещё одну любую метрику. Подумайте, какая аналитика была бы полезна для сокращателя как для продукта? Можно добавить аналитику переходов по ссылке для владельцев оригинальной ссылки (Referer, User-Agent, Remote-IP).### Решение

### Решение
Пример страницы (ссылка + QR-код): http://87.239.110.13/info/vy9RL8qL

Еще одна метрика -- последнее посещение ссылки до момента просмотра.

## 50
### Условие
К этому моменту у вас уже накопилось заметное количество информации о переходах пользователей по ссылкам. Добавьте в API или интерфейс рекомендацию похожих ссылок на указанную пользователем сокращённую. Для рекомендаций можно учитывать поведение пользователей, переходивших по тем же ссылкам, общего автора коротких ссылок, похожие домены длинных ссылок и прочее :)
### Решение
Пример страницы (ссылка + QR-код): http://87.239.110.13/info/vy9RL8qL

Система рекомендаций, работающая на SVD, содержится в файле recommender.py
https://habr.com/ru/company/surfingbird/blog/139863/

